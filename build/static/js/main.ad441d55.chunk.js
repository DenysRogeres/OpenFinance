(this.webpackJsonpopenfinance=this.webpackJsonpopenfinance||[]).push([[0],{102:function(n,e,t){"use strict";t.r(e);var r,a,c,i,o=t(1),s=t.n(o),d=t(30),l=t.n(d),b=t(35),u=t(6),j=t(3),h=t(4),m=Object(h.a)(r||(r=Object(j.a)(["\n\n    :root {\n        --background: #F0F2F5;\n        --red: #e52e4d;\n        --blue: #5429cc;\n        --green: #33cc95;\n        --blue-light: #6933ff;\n\n        --text-title: #363f5f;\n        --text-body: #969cb3;\n\n        --shape: #ffff;\n    }\n    * {\n        margin: 0;\n        padding: 0;\n        box-sizing: border-box;\n    }\n\n    html {\n        @media(max-width: 1080px) {\n            font-size: 93.75%\n        }\n        @media(max-width: 720px) {\n            font-size: 87.5%\n        }\n    }\n\n    body {\n        background: var(--background);\n        -webkit-font-smoothing: antialiased;\n    }\n\n    body, input, textarea, button {\n        font-family: 'Poppins', sans-serif;\n        font-weight: 400;\n    }\n\n    h1, h2, h3, h4, h5, h6, strong {\n        font-weight: 600;\n    }\n\n    button {\n        cursor: pointer;\n    }\n\n    [disabled] {\n        cursor: not-allowed;\n    }\n\n    .react-modal-overlay {\n        background: rgba(0, 0, 0, 0.5);\n        \n        display: flex;\n        align-items: center;\n        justify-content: center;\n        \n        position: fixed;\n        top: 0;\n        bottom: 0;\n        right: 0;\n        left: 0;\n    }\n    \n    .react-modal-content {\n        width: 100%;\n        max-width: 576px;\n        background: var(--background);\n        padding: 3rem;\n        position: relative;\n        border-radius: 0.25rem;\n    }\n\n    .react-modal-close {\n        cursor: pointer;\n        position: absolute;\n        right: 1.5rem;\n        top: 1.5rem;\n\n        transition: filter 0.2s;\n\n        &:hover {\n            filter: brightness(0.6);\n        }\n    }\n\n"]))),p=t.p+"static/media/logo.614d71d1.svg",g=h.b.header(a||(a=Object(j.a)(["\n    background: var(--blue);\n"]))),x=h.b.div(c||(c=Object(j.a)(["\n    max-width: 1128px;\n    margin: 0 auto;\n\n    padding: 2rem 1rem 12rem;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    button {\n        border: 0;\n        font-size: 1rem;\n        color: #FFFF;\n        background-color: var(--blue-light);\n        padding: 0 2rem;\n        border-radius: 0.25rem;\n        height: 3rem;\n\n        transition: filter 0.2s;\n\n        &:hover {\n            filter: brightness(0.9);\n        }\n\n\n    }\n"]))),f=t(0);function O(n){var e=n.onOpenNewTransactionModal;return Object(f.jsx)(g,{children:Object(f.jsxs)(x,{children:[Object(f.jsx)("img",{src:p,alt:"Logo dt money"}),Object(f.jsx)("button",{type:"button",onClick:e,children:"Nova transa\xe7\xe3o"})]})})}var v=h.b.div(i||(i=Object(j.a)(["\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    gap: 2rem;\n    margin-top: -10rem;\n\n    div{\n        background: var(--shape);\n        padding: 1.5rem 2rem;\n        border-radius: 0.25rem;\n        color: var(--text-title);\n    }\n\n    header {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n    }\n\n    strong {\n        margin-top: 1rem;\n        font-size: 2rem;\n        font-weight: 500;\n        line-height: 3rem;\n        display: block;\n    }\n\n    & .highlight-background {\n        background: var(--green);\n        color: #FFFF;\n    }\n\n"]))),y=t(10),w=t.n(y),k=t(64),F=t(36),C=t(19),N=t(54),R=t.n(N).a.create({baseURL:"http://localhost:3000/api"}),B=Object(o.createContext)({});function S(n){var e=n.children,t=Object(o.useState)([]),r=Object(u.a)(t,2),a=r[0],c=r[1];function i(){return(i=Object(C.a)(w.a.mark((function n(e){var t,r;return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,R.post("transaction",Object(F.a)(Object(F.a)({},e),{},{createdAt:new Date}));case 2:t=n.sent,r=t.data.transaction,c([].concat(Object(k.a)(a),[r]));case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(o.useEffect)((function(){R.get("/transactions").then((function(n){return c(n.data.transactions)}))}),[]),Object(f.jsx)(B.Provider,{value:{transactions:a,createTransaction:function(n){return i.apply(this,arguments)}},children:e})}function z(){return Object(o.useContext)(B)}var D,E=t.p+"static/media/income.d58effe2.svg",T=t.p+"static/media/outcome.6eb96d30.svg",A=t.p+"static/media/total.e90c2d1e.svg";function I(){var n=z().transactions,e=(n.reduce((function(n,e){return"deposit"===e.type?n+e.amount:n}),0),n.reduce((function(n,e){return"deposit"===e.type?(n.deposits+=e.amount,n.total+=e.amount):(n.withdraws+=e.amount,n.total-=e.amount),n}),{deposits:0,withdraws:0,total:0}));return Object(f.jsxs)(v,{children:[Object(f.jsxs)("div",{children:[Object(f.jsxs)("header",{children:[Object(f.jsx)("p",{children:"Entradas"}),Object(f.jsx)("img",{src:E,alt:""})]}),Object(f.jsx)("strong",{children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e.deposits)})]}),Object(f.jsxs)("div",{children:[Object(f.jsxs)("header",{children:[Object(f.jsx)("p",{children:"Sa\xeddas"}),Object(f.jsx)("img",{src:T,alt:""})]}),Object(f.jsxs)("strong",{children:["- ",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e.withdraws)]})]}),Object(f.jsxs)("div",{className:"highlight-background",children:[Object(f.jsxs)("header",{children:[Object(f.jsx)("p",{children:"Total"}),Object(f.jsx)("img",{src:A,alt:""})]}),Object(f.jsx)("strong",{children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e.total)})]})]})}var L,q=h.b.div(D||(D=Object(j.a)(["\n    table {\n        width: 100%;\n        border-spacing: 0 0.5rem;\n    }\n\n    th {\n        font-weight: 400;\n        color: var(--text-body);\n        text-align: left;\n        line-height: 1.5rem;\n        padding: 1rem 2rem;\n    }\n\n    td {\n        padding: 1rem 2rem;\n        background: var(--shape);\n        border: 0;\n        border-radius: 0.25rem;\n        color: var(--text-body);\n\n\n        &:first-child {\n            color: var(--text-title);\n        }\n\n        &.deposit {\n            color: var(--green);         \n        }\n\n        &.withdraw {\n            color: var(--red);         \n        }\n    }\n\n"])));function J(){var n=z().transactions;return Object(f.jsx)(q,{children:Object(f.jsxs)("table",{children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"T\xedtulo"}),Object(f.jsx)("th",{children:"Valor"}),Object(f.jsx)("th",{children:"Categoria"}),Object(f.jsx)("th",{children:"Data"})]})}),Object(f.jsx)("tbody",{children:n.map((function(n){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:n.title}),Object(f.jsx)("td",{className:n.type,children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(n.amount)}),Object(f.jsx)("td",{children:n.category}),Object(f.jsx)("td",{children:new Intl.DateTimeFormat("pt-BR").format(new Date(n.createdAt))})]},n.id)}))})]})})}var M=h.b.main(L||(L=Object(j.a)(["\n    max-width: 1120px;\n    margin: 0 auto;\n    padding: 2.5rem 1rem;\n\n"])));function P(){return Object(f.jsxs)(M,{children:[Object(f.jsx)(I,{}),Object(f.jsx)(J,{})]})}var V,U,G,H=t(20),K=t.n(H),Q=t.p+"static/media/close.f62862c6.svg",W=h.b.form(V||(V=Object(j.a)(['\n\n    h2 {\n        color: var(--text-title);\n        font-size: 1.5rem;\n        margin-bottom: 2rem;\n    }\n\n    input {\n        padding: 0 1.5rem;\n        width: 100%;\n        height: 4rem;\n        border-radius: 0.25rem;\n\n        background: #e7e9ee;\n        border: 1px solid #d7d7d7;\n\n        font-weight: 400;\n        font-size: 1rem;\n\n        &::placeholder {\n            color: var(--text-body);\n        }\n\n        & + input{\n            margin-top: 1rem;\n        }\n    }\n\n    button[type="submit"] {\n        width: 100%;\n        padding: 0 1.5rem;\n        height: 4rem;\n        background: var(--green);\n        color: #FFF;\n        border-radius: 0.25rem;\n        border: 0;\n        font-size: 1rem;\n        margin-top: 1.5rem;\n        font-weight: 600;\n\n        transition: filter 0.2s;\n\n        &:hover {\n            filter: brightness(0.9);\n        }\n    }\n\n']))),X=h.b.div(U||(U=Object(j.a)(["\n    margin: 1rem 0;\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    gap: 0.5rem;\n"]))),Y={green:"#ECFBF5",red:"#FDEEF1"},Z=h.b.button(G||(G=Object(j.a)(["\n\n    height: 4rem;\n    border: 1px solid #d7d7d7;\n    border-radius: 0.25rem;\n\n    background: ",";\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    &:hover {\n        border-color: rgba(176, 176, 176, 0.5);\n    }\n\n    img {\n        width: 20px;\n        height: 20px;\n    }\n\n    span {\n        display: inline-block;\n        margin-left: 1rem;\n        font-size: 1rem;\n        color: var(--text-title);\n    }\n"])),(function(n){return n.isActive?Y[n.activeColor]:"transparent"}));function $(n){var e=n.isOpen,t=n.onRequestClose,r=z().createTransaction,a=Object(o.useState)("deposit"),c=Object(u.a)(a,2),i=c[0],s=c[1],d=Object(o.useState)(""),l=Object(u.a)(d,2),b=l[0],j=l[1],h=Object(o.useState)(0),m=Object(u.a)(h,2),p=m[0],g=m[1],x=Object(o.useState)(""),O=Object(u.a)(x,2),v=O[0],y=O[1];function k(){return(k=Object(C.a)(w.a.mark((function n(e){return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),n.next=3,r({title:b,amount:p,category:v,type:i});case 3:s("deposit"),j(""),g(0),y(""),t();case 8:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(f.jsxs)(K.a,{isOpen:e,onRequestClose:t,overlayClassName:"react-modal-overlay",className:"react-modal-content",children:[Object(f.jsx)("div",{children:Object(f.jsx)("img",{src:Q,alt:"Fechar",onClick:t,className:"react-modal-close"})}),Object(f.jsxs)(W,{onSubmit:function(n){return k.apply(this,arguments)},children:[Object(f.jsx)("h2",{children:"Cadastrar transa\xe7\xe3o"}),Object(f.jsx)("input",{type:"text",placeholder:"T\xedtulo",value:b,onChange:function(n){return j(n.target.value)}}),Object(f.jsx)("input",{type:"number",placeholder:"Valor",value:p,onChange:function(n){return g(Number(n.target.value))}}),Object(f.jsxs)(X,{children:[Object(f.jsxs)(Z,{type:"button",isActive:"deposit"===i,activeColor:"green",onClick:function(){s("deposit")},children:[Object(f.jsx)("img",{src:E,alt:"Entrada"}),Object(f.jsx)("span",{children:"Entrada"})]}),Object(f.jsxs)(Z,{type:"button",isActive:"withdraw"===i,activeColor:"red",onClick:function(){s("withdraw")},children:[Object(f.jsx)("img",{src:T,alt:"Sa\xedda"}),Object(f.jsx)("span",{children:"Sa\xedda"})]})]}),Object(f.jsx)("input",{type:"text",placeholder:"Categoria",value:v,onChange:function(n){return y(n.target.value)}}),Object(f.jsx)("button",{type:"submit",children:"Cadastrar"})]})]})}function _(){K.a.setAppElement("#root");var n=Object(o.useState)(!1),e=Object(u.a)(n,2),t=e[0],r=e[1];return Object(f.jsxs)(S,{children:[Object(f.jsx)(m,{}),Object(f.jsx)(O,{onOpenNewTransactionModal:function(){r(!0)}}),Object(f.jsx)($,{isOpen:t,onRequestClose:function(){r(!1)}}),Object(f.jsx)(P,{})]})}Object(b.b)({models:{transaction:b.a},seeds:function(n){n.db.loadData({transactions:[{id:1,title:"Freelance",type:"deposit",category:"Dev",amount:6e3,createdAt:new Date("2021-02-12 09:00:00")}]})},routes:function(){var n=this;this.namespace="api",this.get("/transactions",(function(){return n.schema.all("transaction")})),this.post("/transaction",(function(n,e){var t=JSON.parse(e.requestBody);return n.create("transaction",t)}))}}),l.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(_,{})}),document.getElementById("root"))}},[[102,1,2]]]);
//# sourceMappingURL=main.ad441d55.chunk.js.map